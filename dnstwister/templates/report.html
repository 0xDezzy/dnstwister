{% extends "layout.html" %}
{% block title %}Report{% endblock %}
{% block head %}
        <script type="text/javascript" src="/static/jquery-1.11.3.min.js"></script>
        <script type="text/javascript" src="/static/script.js"></script>
        <style type="text/css">
            .domain-row,
            .report {
                display: none;
            }
        </style>
{% endblock %}
{% block header %}
        <h1>DNS Twister Report</h1>
        <p>
            <a href="/">New Report</a>
        </p>
{% endblock %}
{% block body %}
        <section class="progress">
            <p>
                Attempting to resolving domains:
                <span class="resolved_count">0</span>/<span class="resolved_total"></span>
            </p>
        </section>
        <section>
            <table class="report">
                <thead>
                    <tr>
                        <th>Domain</th>
                        <th>Tweak</th>
                        <th>Type</th>
                        <th>IP</th>
                    </tr>
                </thead>
                <tbody>
                    {% for domain, data in reports.items() %}
                        {% for entry in data.fuzzy_domains %}
                            <tr class="domain-row">
                                <td>{{ domain }}</td>
                                <td>{{ entry.domain }}</td>
                                <td>{{ entry.fuzzer }}</td>
                                <td class="resolvable" data-domain="{{ entry.domain }}">Checking...</td>
                            </tr>
                        {% endfor %}
                    {% endfor %}
                </tbody>
            </table>
        </section>
{% endblock %}
